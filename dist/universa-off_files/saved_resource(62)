  def('bootstrap/alert', function(){ def("alert",function(){$("body").on("click",".alert-open",function(e){e.preventDefault(),$(this).next(".alert").toggleClass("show")}),$("body").on("click",".alert-close",function(e){e.preventDefault(),$(this).parent(".alert").toggleClass("show")})}); });    def('bootstrap/forms', function(){ function unaccent(e){for(var t,n="",o=0,r=e.length;o<r;n+=(t="ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž".indexOf(e.charAt(o)))>-1?"AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz".charAt(t):e.charAt(o),o++);return n}function escapeRegExp(e){return e=e.replace(/([-[\]{}()*+?.,\\^$|#])/g,"\\$1"),["[ÀÁÂÃÄÅA]","[àáâãäåa]","[ÒÓÔÕÕÖØO]","[òóôõöøo]","[ÈÉÊËE]","[èéêëðe]","[Ççc]","[ÐD]","[ÌÍÎÏI]","[ìíîïi]","[ÙÚÛÜU]","[ùúûüu]","[ÑN]","[ñn]","[ŠS]","[šs]","[ŸY]","[ÿýy]","[ŽZ]","[žz]"].map(function(t){e=e.replace(new RegExp(t,"g"),t)}),e}function nodeTextReplacer(e,t,n){if(e instanceof Node&&e.nodeType===Node.ELEMENT_NODE)for(var o,r=e.childNodes,i=0;r[i];++i)switch((o=r[i]).nodeType){case Node.ELEMENT_NODE:nodeTextReplacer(o,t,n);break;case Node.TEXT_NODE:var s=document.createElement("replacer");s.innerHTML=o.nodeValue.replace(t,n),o.parentNode.insertBefore(s,o),o.parentNode.removeChild(o)}}function preventScroll(e,t){if(!t&&-1==!t.indexOf(lib.breakpoints.breakpoint.name)){var n,o=$("body"),r=$("html");if(e){o.css("width");n=window.pageYOffset,r.css({overflow:"hidden"}),o.css({position:"fixed",top:-n})}else n=-parseInt(o.css("top")),r.css({overflow:""}),o.css({position:"",top:""}),window.scrollTo(0,n)}}function toggleListResult(){var e=$(this).closest(".form-filter"),t=$(".form-filter").not(e).addClass("closed");t.find(".svg-icon > use")?t.find(".svg-icon > use").attr("xlink:href","#svg-single-arrow-down"):t.find("i").removeClass("icon-single-arrow-up").addClass("icon-single-arrow-down");var n=e.toggleClass("closed");n.find(".svg-icon > use")?n.find(".svg-icon > use").toggleAttr("xlink:href","#svg-single-arrow-up","#svg-single-arrow-down"):n.find("i").toggleClass("icon-single-arrow-down icon-single-arrow-up"),$(".form-filter").not(e).each(function(){var e=$(this);e.hasClass("closed")||(e.addClass("closed").find("i").removeClass("icon-single-arrow-up").addClass("icon-single-arrow-down"),e.triggerHandler("form-filter-close"),preventScroll(!1,["xs"]))}),e.length&&e.hasClass("closed")?(e.triggerHandler("form-filter-open"),preventScroll(!0,["xs"])):e.length&&(e.triggerHandler("form-filter-close"),preventScroll(!1,["xs"])),e.find(".select-option").show(),e.find(".input-term").focus().val(""),e.find(".select-option").removeClass('searched-option"'),e.find(".select-option").length>6&&e.find("ul").css("overflow-y","scroll").css("overflow-x","hidden")}function getText(e){var t=$(e.currentTarget),n=t.closest(".form-filter");n.find(".final-term").html(t.html()),toggleListResult(),n.triggerHandler("form-filter-select",t.data())}function inputKey(e){var t,n=$(this),o=n.closest(".form-filter"),r=n.closest(".form-filter").find(".select-option");if(27==e.keyCode)toggleListResult();else if(38==e.keyCode||40==e.keyCode){t=n.parent().next().find(".selected-term");var i=(n.parent().next().find(".searched-option").index(t)+1)*t.height()-60;40==e.keyCode&&t.next().hasClass("searched-option")?(t.next().position().top,t.toggleClass("selected-term").next().toggleClass("selected-term"),i-=4*(t.height()+14)):38==e.keyCode&&t.prev().hasClass("searched-option")&&(t.prev().position().top,t.toggleClass("selected-term").prev().toggleClass("selected-term"),i-=2*(t.height()+14)),t.parent().scrollTop(i)}else if(13==e.keyCode)o.find(".selected-term").trigger("click"),toggleListResult();else if(37!=e.keyCode&&39!=e.keyCode){r.removeClass("searched-option selected-term").attr("data-found",0).hide();for(var s=escapeRegExp(n.val().trim()),l=new RegExp("(:?^|\\W)("+s.split(" ").join("|")+")","gim"),a=0;a<r.length;a++){var c=(t=$(r[a])).text().matchAll(l).filter(function(e){return e.length>0}).map(function(e){return e[2]});c.length>0&&(/[&?]debug=true&?/.test(location.search)&&console.debug("[FormFilter]",l,s,c),t.attr("data-found",c.filter(function(e){return e.length}).length),t.html(t.html().replace(/<span class="result-highlight">(.*?)<\/span>/g,"$1")),s.length>0&&(nodeTextReplacer(t[0],new RegExp("("+c.map(escapeRegExp).join("|")+")","g"),'<span class="result-highlight">$&</span>'),t.html(t.html().replace(/<\/?replacer>/g,""))),t.addClass("searched-option").show())}o.find(".select-option").sort(function(e,t){return function(e,t,n){for(var o=0;o<n.length;o++){var r=e,i=t,s=n[o].order||"asc";if("function"==typeof n[o].prepare&&(r=n[o].prepare(r),i=n[o].prepare(i)),"asc"==s){if(r<i)return-1;if(r>i)return 1}else if("desc"==s){if(r>i)return-1;if(r<i)return 1}}return 0}($(e),$(t),[{order:"desc",prepare:function(e){return parseInt(e.attr("data-found"))}},{prepare:function(e){return parseInt(e.attr("data-original"))}},{prepare:function(e){return unaccent(e.text()).toLowerCase()}}])}).appendTo(o.find(".target")),o.find(".searched-option").first().addClass("selected-term")}}function FormFilter(e){var t,n=this,o={onOpen:!1,onClose:!1,onSelect:!1};function r(){var e=[].slice.call(arguments),t=e.shift();return e.unshift(this.element),"function"==typeof o[t]?o[t].apply(this,e):null}this.element=e,this.config=function(e){$.extend(o,e)},(t=$(n.element)).off().on("click",".final-term, .svg-icon, .btn-close",function(e){e.preventDefault(),toggleListResult.call(this)}).on("keyup",".input-term",inputKey).on("click",".select-option",getText.bind(n)),$(".final-term",n.element).each(function(){$(this).attr("data-title",$(this).text())}),t.on("form-filter-open",function(){r.call(n,"onOpen")}).on("form-filter-close",function(){r.call(n,"onClose")}).on("form-filter-select",function(e,t){r.call(n,"onSelect",e,t)}),$(".select-option",n.element).each(function(e,t){$(t).attr("data-original",e)})}String.prototype.matchAll=function(e){var t=[];return this.replace(e,function(){var e=[].slice.call(arguments,0),n=e.splice(-2);e.index=n[0],e.input=n[1],t.push(e)}),t.length?t:[]},$(document).mouseup(function(e){0==$(e.target).closest(".form-filter").length&&toggleListResult()}),expose.init=function(){$(this.dom).each(function(){$(this).data("formFilter",new FormFilter(this))})},expose.selector=".form-filter",$(".drop-select").off().on("click",".drop-item",function(){var e=$(this),t=e.parents(".drop-select"),n=t.find(".selector").children("span"),o=null,r=parseInt(t.attr("data-open")),i=(parseInt(t.attr("data-selected")),e.prop("tagName").toLowerCase());if(r?t.attr("data-open",0):t.attr("data-open",1),t.find("p.selector").find("use").toggleAttr("xlink:href","#svg-single-arrow-up","#svg-single-arrow-down"),"label"==i){e.attr("data-default")?(o="0",t.find("input:checkbox").removeAttr("checked")):o="1",t.attr("data-selected",o);var s=e.children("span").html();n.html(s),t.find(".drop-item").removeClass("selected"),e.addClass("selected")}return!1}),$(document).mouseup(function(e){var t=$(".drop-select[data-open=1]");t.is(e.target)||0!==t.has(e.target).length||(1==t.attr("data-open")&&t.attr("data-close-metric")&&hitAudience.countClick(t.attr("data-close-metric")),t.attr("data-open",0),t.find("p.selector").find("use").attr("xlink:href","#svg-single-arrow-down"))}); });    def('bootstrap/photo', function(){ def("photo",function(){expose.pinit=function(){var t=$(this.dom),i=navigator.userAgent||"";t.each(function(){var t=$(this),e="uol_"+Date.now(),n=$('<a class="pinit-btn" href="javascript:void()"><img height="24" src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_red_28.png" /></a>'),o=t[0].classList.contains("img-placeholder")?" placeholder":"";t.wrap('<div class="pinit-wraper'+o+'"></div>'),n.insertAfter(t),n.on("click",function(){var i="http://br.pinterest.com/pin/create/button/?url="+location.protocol+"//"+location.host+location.pathname+"&media="+t.attr("data-src")+"&description="+document.title;hitAudience.countClick({component:"pinterest-on-images",reference:"compartilhe_pinterest",action:"clique"}),window.open(i,e,"height=550, width=750")}),i.match(/Windows Phone/i)?t.parent().on("click",function(){n.toggle()}):(t.parent().on("mouseover",function(){n.show()}),t.parent().on("mouseout",function(){n.hide()}))})},expose.init=function(){this.pinit()},expose.selector=".pinit-img"}); });    def('bootstrap/scroll', function(){ function ScrollController(o){var n=0,e=0,r=0,a=this;function t(){o.container.triggerHandler("scroll",{scrollY:r,containerSize:n,contentSize:e,maxScroll:a.maxScroll()}),o.content.css("top",r),a.updateScrollbar()}this.maxScroll=function(){return-1*(e-n)},this.increment=function(o){return o>0&&r>this.maxScroll()?(r=Math.max(r-o,this.maxScroll()),t(),!0):o<0&&r<0&&(r=Math.min(r+-1*o,0),t(),!0)},this.scrollBarTo=function(n){var a=o.scrollBarTrack.outerHeight(),l=Math.min(n,o.scrollBarTrack.outerHeight()-o.scrollBar.outerHeight());r=-1*(l=l<0?0:l)/a*e,o.scrollBar.css("top",l),t()},this.scrollTo=function(o){var a=Math.max(o,-1*(e-n));r=a>0?0:a,t()},this.paged=function(o){return o&&r<0?(r=Math.min(0,r+n),t(),!0):!o&&r>this.maxScroll()&&(r=Math.max(r-n,this.maxScroll()),t(),!0)},this.updateScrollbar=function(){n=o.container.outerHeight(),e=o.content.outerHeight();var a=n/e*100,t=-1*r/e*100;o.scrollBar.css({height:a+"%",top:t+"%"}),100==a?o.scrollBarWrap.addClass("disabled"):o.scrollBarWrap.removeClass("disabled")},this.scrollAll=function(o){return o&&r<0?(r=0,t(),!0):r>this.maxScroll()&&(r=this.maxScroll(),t(),!0)}}function Scrollbar(o){var n,e,r,a=3e3,t=!1,l=this;function c(){t||(l.container.height(l.container.parent().height()),n.updateScrollbar(),t=!0)}function i(){clearTimeout(e),l.container.addClass("is-over"),e=setTimeout(function(){l.container.removeClass("is-over")},a)}l.container=$(o),l.container.attr("tabindex","0").wrapInner('<div class="scroll-content scroll-animate" />').append('<div class="scrollbar-container"><div class="scrollbar-wrap"><div class="scrollbar-track" /><div class="scrollbar scroll-animate" /></div></div>'),l.content=l.container.find(".scroll-content"),l.scrollBar=l.container.find(".scrollbar"),l.scrollBarContainer=l.container.find(".scrollbar-container"),l.scrollBarTrack=l.container.find(".scrollbar-track"),l.scrollBarWrap=l.container.find(".scrollbar-wrap"),(n=new ScrollController(l)).updateScrollbar(),l.container.on("keydown",function(o){var e;switch(o.keyCode){case 9:o.preventDefault();break;case 38:e=n.increment(-50);break;case 40:e=n.increment(50);break;case 33:e=n.paged(!0);break;case 32:case 34:e=n.paged();break;case 36:e=n.scrollAll(!0);break;case 35:e=n.scrollAll()}i(),e&&o.preventDefault()}).on("mouseenter",function(){l.container.focus(),c()}).on("mouseleave",function(){l.container.blur()}),l.container.on("wheel mousewheel",function(o){var e=n.increment(o.originalEvent.deltaY>0?50:-50);e&&o.preventDefault(),i()}).on("mouseenter mousemove mouseleave",function(){i()}),l.container.on("touchstart",function(o){n.maxScroll()<0&&o.preventDefault(),c(),clearTimeout(r),l.container.addClass("is-active"),l.content.removeClass("scroll-animate");var e=o.originalEvent.touches[0].clientY,a=l.content.position().top;l.container.on("touchmove",function(o){n.maxScroll()<0&&o.preventDefault(),n.scrollTo(a+(o.originalEvent.touches[0].clientY-e))})}).on("touchend",function(){l.content.addClass("scroll-animate"),r=setTimeout(function(){l.container.removeClass("is-active")},a)}),l.scrollBarContainer.on("mouseenter",function(){l.scrollBarContainer.addClass("is-over")}).on("mouseleave",function(){l.scrollBarContainer.removeClass("is-over")}),l.scrollBar.on("mousedown",function(o){o.preventDefault();var e=o.clientY,t=l.scrollBar.position().top;l.scrollBar.removeClass("scroll-animate"),l.content.removeClass("scroll-animate"),l.scrollBarContainer.addClass("is-active"),clearTimeout(r),l.container.addClass("is-active"),$(window).on("mousemove",function(o){o.preventDefault(),n.scrollBarTo(t+(o.clientY-e))}).on("mouseup",function(){$(window).off("mousemove"),l.scrollBar.addClass("scroll-animate"),l.content.addClass("scroll-animate"),l.scrollBarContainer.removeClass("is-active"),r=setTimeout(function(){l.container.removeClass("is-active")},a)})}),$(window).on("resize",function(){n.updateScrollbar()}),console.log("[scroll] Component scroll initiated")}include("breakpoints"),expose.init=function(){var o=this.dom.dataset||$(this.dom).data(),n=this.parse(o.scroll,!1);(!n||n.breakpoints&&-1!=n.breakpoints.indexOf(this.breakpoints.breakpoint.name))&&new Scrollbar(this.dom)}; });    def('bootstrap/read-more', function(){ def("read-more",function(){"use strict";include("breakpoints"),expose.flag=!1,expose.update=function(t){var s=this.parse(this.dom.getAttribute("data-height"),{}),e=this.breakpoints.sortOptions(Object.keys(s),!0,!1),i=$(this.dom).find(".calc-height").length>0?$(this.dom).find(".calc-height"):$(this.dom);$(this.dom).removeClass("btn-hide").addClass("btn-show"),e&&0!=s[e].close&&s[e]["min-height"]<i.outerHeight()?this.flag||this.change(s[e].close+"px"):($(this.dom).addClass("btn-hide").removeClass("btn-show"),this.show(!1))},expose.scrollTop=function(t){var s=$(t).parents(".read-more").offset().top;s-=50,$("html,body").animate({scrollTop:s+"px"})},expose.hide=function(){this.flag=!1,this.update()},expose.show=function(t){!1!==t&&(this.flag=!0),this.change("auto")},expose.change=function(t){var s=$(this.dom);s.removeClass("auto"==t?"closed":"opened").addClass("auto"==t?"opened":"closed"),"auto"==t?s.removeAttr("style"):s.height(t)},expose.isOpen=function(){return this.flag},expose.toggle=function(){this.isOpen()?this.hide():this.show()},expose.init=function(){var t=this;if(this.update(),this.breakpoints.change(this,function(){setTimeout(function(){t.update()},500)}),!this.dom.querySelector(".read-more-btn")){$(this.dom).append('<div class="read-more-btn"><button class="btn btn-primary btn-large btn-first">Ver mais <svg class="svg-icon-view-box-small right-icon"><use xlink:href="#svg-single-arrow-down" /></svg></button><button class="btn btn-primary btn-large btn-last hide">Ver menos <svg class="svg-icon-view-box-small right-icon"><use xlink:href="#svg-single-arrow-up" /></svg></button></div>')}$(this.dom).on("click",".read-more-btn:last > .btn, .read-more-btn:last .btn-divisor",function(s){$(this).hasClass("btn-last")&&t.scrollTop(this,$(this).parent(".read-more")),t.toggle.call(t),$(this).parent().find(".btn").toggleClass("hide")})}}); });    def('modal', function(){ instances.modal=[];var bodyTopPosition=0;expose.create=function(){return new this.Modal},expose.open=function(e,o,t,s,n){var c=this.create();return o&&c.setMode.apply(c,o.split(":").reverse()),t&&c.setStyle(t),s&&c.setEvents(s),c.setContent(e,!0),-1==document.body.className.indexOf("modal-open")&&(n?(bodyTopPosition=document.body.scrollTop||document.documentElement.scrollTop,$("body").addClass("googleCaptcha")):document.body.style.top="-"+(document.body.scrollTop||document.documentElement.scrollTop)+"px"),document.body.className+=" modal-open",c},expose.Modal=function(){this.buildStructure(),this.enableUIControl(),this.enableEscClose(),this.enableClickClose(),"function"==typeof crazyloadinit&&this.addScrollEvent(crazyloadinit),instances.modal.push(this),$(this.dom).parent().prepend('<svg width="70px" height="70px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="loading uil-ring"><rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect><defs><filter id="uil-ring-shadow" x="-100%" y="-100%" width="300%" height="300%"><feOffset result="offOut" in="SourceGraphic" dx="0" dy="0"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="0"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter></defs><path d="M10,50c0,0,0,0.5,0.1,1.4c0,0.5,0.1,1,0.2,1.7c0,0.3,0.1,0.7,0.1,1.1c0.1,0.4,0.1,0.8,0.2,1.2c0.2,0.8,0.3,1.8,0.5,2.8 c0.3,1,0.6,2.1,0.9,3.2c0.3,1.1,0.9,2.3,1.4,3.5c0.5,1.2,1.2,2.4,1.8,3.7c0.3,0.6,0.8,1.2,1.2,1.9c0.4,0.6,0.8,1.3,1.3,1.9 c1,1.2,1.9,2.6,3.1,3.7c2.2,2.5,5,4.7,7.9,6.7c3,2,6.5,3.4,10.1,4.6c3.6,1.1,7.5,1.5,11.2,1.6c4-0.1,7.7-0.6,11.3-1.6 c3.6-1.2,7-2.6,10-4.6c3-2,5.8-4.2,7.9-6.7c1.2-1.2,2.1-2.5,3.1-3.7c0.5-0.6,0.9-1.3,1.3-1.9c0.4-0.6,0.8-1.3,1.2-1.9 c0.6-1.3,1.3-2.5,1.8-3.7c0.5-1.2,1-2.4,1.4-3.5c0.3-1.1,0.6-2.2,0.9-3.2c0.2-1,0.4-1.9,0.5-2.8c0.1-0.4,0.1-0.8,0.2-1.2 c0-0.4,0.1-0.7,0.1-1.1c0.1-0.7,0.1-1.2,0.2-1.7C90,50.5,90,50,90,50s0,0.5,0,1.4c0,0.5,0,1,0,1.7c0,0.3,0,0.7,0,1.1 c0,0.4-0.1,0.8-0.1,1.2c-0.1,0.9-0.2,1.8-0.4,2.8c-0.2,1-0.5,2.1-0.7,3.3c-0.3,1.2-0.8,2.4-1.2,3.7c-0.2,0.7-0.5,1.3-0.8,1.9 c-0.3,0.7-0.6,1.3-0.9,2c-0.3,0.7-0.7,1.3-1.1,2c-0.4,0.7-0.7,1.4-1.2,2c-1,1.3-1.9,2.7-3.1,4c-2.2,2.7-5,5-8.1,7.1 c-0.8,0.5-1.6,1-2.4,1.5c-0.8,0.5-1.7,0.9-2.6,1.3L66,87.7l-1.4,0.5c-0.9,0.3-1.8,0.7-2.8,1c-3.8,1.1-7.9,1.7-11.8,1.8L47,90.8 c-1,0-2-0.2-3-0.3l-1.5-0.2l-0.7-0.1L41.1,90c-1-0.3-1.9-0.5-2.9-0.7c-0.9-0.3-1.9-0.7-2.8-1L34,87.7l-1.3-0.6 c-0.9-0.4-1.8-0.8-2.6-1.3c-0.8-0.5-1.6-1-2.4-1.5c-3.1-2.1-5.9-4.5-8.1-7.1c-1.2-1.2-2.1-2.7-3.1-4c-0.5-0.6-0.8-1.4-1.2-2 c-0.4-0.7-0.8-1.3-1.1-2c-0.3-0.7-0.6-1.3-0.9-2c-0.3-0.7-0.6-1.3-0.8-1.9c-0.4-1.3-0.9-2.5-1.2-3.7c-0.3-1.2-0.5-2.3-0.7-3.3 c-0.2-1-0.3-2-0.4-2.8c-0.1-0.4-0.1-0.8-0.1-1.2c0-0.4,0-0.7,0-1.1c0-0.7,0-1.2,0-1.7C10,50.5,10,50,10,50z" filter="url(#uil-ring-shadow)"></path></svg>')},expose.Modal.prototype={mode:"normal",upmode:"",fx:{name:"fade",speed:200},visible:!1,onshow:function(){},onbeforeshow:function(){},onhide:function(){},onclose:function(e){if(e&&e.category){var o=e&&this.audienceObject(e);o&&hitAudience.countClick(o)}},audienceObject:function(e,o){return o=o||"","click"==e.type&&-1!=e.target.className.indexOf("icon-close")?o="fechar-modal-login":"click"==e.type&&-1!=e.target.className.indexOf("no-load")?o="fechar-clique-fora":"keyup"==e.type&&-1!=e.target.className.indexOf("modal-open")&&(o="fechar-esc-keyup"),e={reference:o,category:"login-"+e.category,action:"clique"}},onbeforeclose:function(){$("body").hasClass("googleCaptcha")&&(document.body.style.top=-1*bodyTopPosition+"px",$("body").removeClass("googleCaptcha"),$("body").removeClass("modal-open"))},visible_:!1,esc_:!1,click_:!1,queue_:[],setMode:function(e,o,t){t?this.fx.name=t:e&&(this.fx.name=e),e&&(this.closure.className+=" modal-mode-"+(this.mode=e)),void 0!==o&&(this.upmode&&(document.body.className=document.body.className.replace(" modal-"+this.upmode,"")),this.upmode=o,document.body.className+=" modal-"+this.upmode)},setEvents:function(e){for(var o in e)this[o]=e[o]},setStyle:function(e){$(this.dom).css(e)},setContent:function(e,o){if(!0===o&&(o=this.show),e instanceof jQuery&&(e=e.get(0)),e instanceof Node&&(e=e.outerHTML),"object"==typeof e){var t=(Config||{}).servicename!=undefined?Config.servicename:"/service/",s=(e.path||t)+"?json&loadComponent="+e.type+"&data="+encodeURIComponent(JSON.stringify(e.args))+"&configPath="+e.configPath;this.setMode(null,e.type),def.prototype.getjson.call(this,s,function(e){this.dom.innerHTML=e.body,o&&o.call(this),render()})}else-1==e.indexOf("\n")&&/^(https?:)?\/+[a-z0-9]|\..{2,4}$/.test(e)?def.prototype.getjson.call(this,e,function(e){this.dom.innerHTML=e.body,o&&o.call(this),render()}):(this.dom.innerHTML=e,o&&o.call(this),render())},show:function(e){if(this.visible=!0,this.closure.className=this.closure.className.replace(/\s+hide/,""),0==this.onbeforeshow())return!1;var o=this;"left"==this.fx.name?$(this.dom).animate({left:"0"},"normal",function(){e&&e.call(o),o.onshow(),render(),$(o.closure).addClass("no-load")}):"fade"==this.fx.name?$(this.dom).hide().fadeIn(this.fx.speed,function(){e&&e.call(o),o.onshow(),render(),$(o.closure).addClass("no-load")}):(e&&e.call(o),this.onshow(),$(o.closure).addClass("no-load"))},hide:function(e){this.visible=!1;var o=this;"left"==this.fx.name?($(this.closure).fadeOut(),$(this.dom).animate({left:"-100%"},"normal",function(){o.closure.className+=" hide",e&&e.call(o),o.onhide()})):"fade"==this.fx.name?$(this.dom).show().fadeOut(this.fx.speed,function(){o.closure.className+=" hide",e&&e.call(o),o.onhide()}):(this.closure.className+=" hide",e&&e.call(this),this.onhide()),this.upmode&&(document.body.className=document.body.className.replace(" modal-"+this.upmode,""));e:{for(var t=instances.modal.length;t--;)if(instances.modal[t].visible)break e;var s=Math.abs(parseInt(document.body.style.top));document.body.className=document.body.className.replace(/\smodal-open/g,""),document.body.removeAttribute("style"),window.scrollTo(0,s)}},enableUIControl:function(){var e=this;$(this.closure).on("click",".modal-close",function(o){o.preventDefault(),e.close(o);var t=$("head meta[name=viewport]"),s=t.attr("content");t.remove(),$("head").prepend('<meta name="viewport" content="'+s+'" />')})},enableEscClose:function(){this.esc_=!0},disableEscClose:function(){this.esc_=!1},enableClickClose:function(){this.click_=!0},disableClickClose:function(){this.click_=!1},addButtonClose:function(e){$(this.dom).prepend('<button class="btn modal-close" data-audience-click=\'{"reference":"fechar-modal-login","component":"'+e+'"}\'><i class="icon-close-2"></i></button>')},addHeader:function(e,o){var t="",s=this.dom;"object"==typeof e?(t=e.html,s=e.closure?this.closure:s):(e&&(t+="<h4>"+e+"</h4>"),o&&(t+='<p class="node"><small>'+o+"</small></p>")),t='<div class="modal-header">'+t+"</div>",$(".modal-header",this.dom).remove(),"BUTTON"==(this.dom.firstElementChild||{}).nodeName?$(this.dom.firstElementChild).after(t):$(s).prepend(t)},addScrollEvent:function(e){var o=this;$(this.dom).on("scroll",function(){e.apply(o,arguments)})},standalone:function(){for(var e=instances.modal.length;e--;){var o=instances.modal[e];o!==this&&(o.visible_=o.visible,o.visible&&o.hide(),this.queue_.push(instances.modal.splice(e,1)[0]))}},close:function(e){if(!1!==this.onbeforeclose()){e&&document.getElementsByClassName("modal-mode-babel-login").length&&(e.category=document.getElementsByClassName("modal-mode-babel-login")[0].dataset.category);for(var o=instances.modal.length;o--&&instances.modal[o]!==this;);if(-1!=o){for(var t=instances.modal.length;--t>o;)instances.modal.splice(t,1)[0].close();instances.modal.splice(o,1)}this.hide(function(){if(this.closure.parentNode.removeChild(this.closure),this.close=function(){},this.onclose(e),this.queue_.length){for(var o=this.queue_.length;o--;)this.queue_[o].visible_&&this.queue_[o].show();instances.modal=this.queue_}})}},buildStructure:function(){this.closure=document.createElement("div"),this.closure.className="modal",this.dom=document.createElement("div"),this.dom.className="modal-wrapper",this.closure.appendChild(this.dom),document.body.appendChild(this.closure)},unique:function(){for(var e=instances.modal.length;e--;)instances.modal[e]!==this&&instances.modal[e].close()}},window.addEventListener("keyup",function(e){switch(e.which||e.keyCode){case 27:var o=instances.modal&&instances.modal.slice(-1)[0];o&&o.esc_&&o.close(e)}}),window.addEventListener("click",function(e){var o=instances.modal&&instances.modal.slice(-1)[0];if(o&&o.click_){for(var t=window.SVGElementInstance&&e.target instanceof SVGElementInstance?e.target.correspondingUseElement:e.target;t&&("object"==typeof t.className||!t.className||-1==t.className.indexOf("modal-wrapper")&&-1==t.className.indexOf("loginbox"));)t=t.parentNode;t||o.close(e)}document.querySelector(".wrapper-header")&&document.querySelector(".wrapper-header").classList.remove("positioning")},!0); });    def('babel', function(){ "use strict";function like(e){action.call(this,"like",e)}function dislike(e){action.call(this,"dislike",e)}function action(e,i){return e?i?void lib["babel-login"].login().then(function(o){o.token&&lib["babel-service"].get({type:"message",service:e,id:i,params:{token:o.token}}).then(function(e){if(e.error)return alert(e.error),!1})}):(console.log("Informe o ID do comentário."),!1):(console.error("Informe o tipo da ação (like/dislike)."),!1)}expose.like=like,expose.dislike=dislike; });    def('babel-login', function(){ def("babel-login",["widget-profile","babel-service","babel","modal"],function(){"use strict";var e="babel.user.",o={opener:".babel-login, .pill.not-logged",modal:".modal",user:"#loginUser",password:"#loginPassword",login:"#login",logout:".logout, .pill.logged",message:"label.error",social:".login .loginWith a",changeView:".login .backToLogin a"};function n(){return!!widgetProfile&&widgetProfile.Login.isUserLoggedIn()}function t(){var o=this,n="object"==typeof widgetProfile&&widgetProfile.Settings.getAuth();events.emit(e+"login.success",null,["Usuário checado",n]),o.checkStatus().then(function(o){200==+o.code&&o.result&&o.result.user?5!=o.result.user.userStatus&&7!=o.result.user.userStatus||events.emit(e+"needNickname",null,["Usuário necessita um apelido"]):events.emit(e+"login.checked",null,["Usuário checado",o])},function(){setTimeout(function(){t.call(o)},1e3)})}function i(){var e,o=this,n=$.Deferred();return(e={product:"noticias",source:"UOL",auto_import:!0},console.debug("checkLogin ",e),lib["babel-service"].get({type:"user",service:"login",params:e||{}})).then(function(e){e&&"code"in e&&(200==+e.code||401==+e.code||428==+e.code)&&"result"in e&&"isLogged"in e.result?(o.session=e.result,o.session.code=+e.code,200===o.session.code&&o.session.isLogged&&o.persist(),n.resolve(o.session)):n.reject({type:"error",msg:"Houve um problema na autenticação do usuário. Tente novamente."})}),n.promise()}function s(o){o="function"==typeof o?o:function(){};var n=this;widgetProfile&&widgetProfile.Login.doLogout(!1,function(){n.session=!1;try{instances.header[0].showItens(0)}catch(s){console.error("[widget-profile] A função instances.header[0].showItens() não existe!")}events.emit(e+"logout.success",null,"Deslogado com sucesso!"),document.querySelector(".header, .bbolp-2014").querySelector("#uol-mail-link").querySelector(".mail-notification").innerHTML="";var t=document.querySelector(".news-notice .girouol #subscriber-cmp1"),i=!1;typeof t!==undefined&&null!==t&&(i=!0),i&&(t.value=""),o()})}function a(){clearTimeout(window.persistence)}function r(e){var o="",n=e.separator||"&";return e.separator&&delete e.separator,jQuery.each(e,function(e,t){o+=(o.length?n:"")+encodeURIComponent(e)+"="+encodeURIComponent(t)}),o}function l(e){if("boolean"==typeof e.isLogged&&localStorage.getItem("porteira-login")){var o=e.isLogged?"login-success":"login-failure",n=JSON.parse(localStorage.getItem("porteira-login"));localStorage.removeItem("porteira-login"),e={category:n.component,reference:n.network,action:o},"undefined"!=n.component&&hitAudience.countEvent(e)}else if("string"==typeof e){let o=document.getElementsByClassName("modal-wrapper")[0].dataset.category;localStorage.setItem("porteira-login",JSON.stringify({network:e,component:o}))}}expose.session=!1;var c={fields:o.user+","+o.password+","+o.login,inputs:o.user+","+o.password,enabled:function(e){$(c.fields).attr("disabled",!e)},hasFocus:function(){$(this).closest("label")["focusin"==event.type||"focus"==event.type?"addClass":"removeClass"]("focus")},changeView:function(e){e.preventDefault(),$(".login .modal-body").toggleClass("alternative")}},u={login:function(e){var o={network:{facebook:{sn:1,source:"FACEBOOK"},twitter:{sn:5,source:"TWITTER"}}[(e=$.extend(!0,{type:"login",network:"facebook"},e)).network].sn,type:e.type,url:location.protocol+"//"+location.host+'/service/?loadComponent=babel-login&data={"closeWindow":true}'};l(e.network),c.enabled(!1);var n=window.open("","socialLogin",r({separator:",",width:600,height:600,scrolling:"no",statusbar:"no",resizeable:"no"}));lib["babel-service"].get({type:"user",service:"socialStart",params:{sn:o.network,social_auth_type:o.type,url_callback:o.url}}).then(function(e){var t={separator:"&",sn:o.network,"x-uol-social-tk":e.result.socialtoken};n.location.href="https://social.api.uol.com.br/oauth?"+r(t)})},select:function(e){e.preventDefault(),u.login({network:$(this).text().trim().toLowerCase()})},attempts:0,callback:function(e){var o=lib["babel-login"];if(e.success){var n=function(){i.call(o).then(function(e){!e.isLogged&&u.attempts<=1?(u.attempts++,setTimeout(n,1e3)):(u.attempts=0,g.instance&&g.newWindow&&g.close&&g.close(),events.emit("babel.user.login.success",null,["Logado com sucesso!",g]),o.loginRegister({isLogged:e.isLogged}))},function(){setTimeout(function(){u.callback.call(null,e)},1e3)})};setTimeout(n,100)}else d.error("Ocorreu um erro na autenticação por Rede Social. Tente novamente mais tarde!"),o.loginRegister({isLogged:!1})}},g={template:null,instance:null,newWindow:!0,getTemplate:function(e,o){if(g.template)g.template=g.template.replace(/(:"login)(-\w+)*/gi,"$1-"+o),e();else{var n={type:"babel-login",args:{page:window.location.href.replace(/#.*/,""),category:o}},t=new XMLHttpRequest;t.open("GET","/service/?loadComponent="+n.type+"&data="+encodeURIComponent(JSON.stringify(n.args))),t.onload=function(){g.template=t.responseText,e()},t.send()}},open:function(o){o.preventDefault();var t=o.currentTarget.dataset.category||"undefined",i=$.Deferred(),s={};"undefined"!=t&&(s={action:"open",loginStyle:{hideOutdoor:!1,title:"Acesse sua conta",subtitle:"Para dar sua opinião, participar do debate e interagir com os demais leitores, faça seu login no UOL."},metrics:{category:t}}),hitAudience.countClick({action:"abrir-modal-login",area:"modal-login",component:"login-comments",position:"coluna-unica",reference:"impressao"}),console.debug("BABEL OPEN",t);var a=function(){widgetProfile.View.widgetModal(s,function(){console.debug("OPEN to login! - modal.open",t)})};401===lib["babel-login"].session.code&&lib["babel-login"].isLogged()||428===lib["babel-login"].session.code?lib["babel-login"].logout(a):a();var r=o.data&&o.data.instance||{};if(!!n.apply(r)){var l=$(this).data("config")||{};events.emit(e+"logged",null,["Usuário logado!",l])}return i.promise()},close:function(){g.instance.close&&g.instance.close()}},d={login:function(o){var n=o.data.instance;n.loginRegister("uol"),n.session=!1,n.login().then(function(o){o.type&&"error"==o.type?(d.error(o.msg),n.loginRegister({isLogged:"error"!=o.type})):(console.debug("self.login else",o),n.loginRegister({isLogged:!0}),events.emit(e+"login.success",null,["Logado com sucesso!",g]))})},logout:function(o){var n=o.data.instance;s.call(n),n.unpersist(),events.emit(e+"logout.success",null,"Deslogado com sucesso!"),"object"==typeof widgetProfile&&widgetProfile.reloadWidget()},error:function(o){$(".login .form").addClass("hasError").find(".error").text(o).removeClass("hidden").end().find("input").filter(function(){return""==this.value}).first().focus(),c.enabled(!0),l({islogged:!1}),events.emit(e+"login.fail",null,o)}};$("body").on("close",o.modal,g.close).on("click",o.opener,{instance:expose},g.open).on("click",o.login,{instance:expose},d.login).on("click",o.logout,{instance:expose},d.logout).on("click",o.social,u.select).on("click",o.changeView,c.changeView).on("focusin focusout",c.inputs,c.hasFocus),expose.login=function(){var e=$.Deferred();return this.isLogged()?(events.emit("babel.user.login.success",null,["Logado com sucesso!",g]),e.resolve(this.session)):function n(){var e=this,t=$.Deferred(),i=$(o.user).val(),s=$(o.password).val();if($(o.message).html(""),console.debug("doLogin"),!i||!s){var a=i?"Informe a senha.":"Informe o usuário.";return t.resolve({type:"error",msg:a})}return $.ajaxFrame({url:lib["babel-service"].routes.url.auth,data:{user:i,pass:s},callback:function(){e.checkStatus().then(function(e){t.resolve(e.isLogged?e:{type:"error",msg:"Email ou senha informados estão incorretos."})},function(){setTimeout(function(){n.call(e)},1e3)})}}),t.promise()}.call(this)},expose.logout=s,expose.modalLogin=g.open,expose.isLogged=n,expose.socialLogin=u.login,expose.whereAmI=function(){return lib["babel-service"].get({type:"user",service:"socialSimpleWhereAmI"})},expose.setSession=t,expose.checkStatus=i,expose.persist=function f(){var e;a(),(e={type:"user",service:"ping",params:{token:lib["babel-login"].session.token}},lib["babel-service"].get(e)).then(function(e){e.error||"pong"!==e.result.ping||(window.persistence=setTimeout(function(){f()},9e5))})},expose.unpersist=a,expose.loginRegister=l,window.callbackSocialLogin=u.callback,window.onfocus=function(e){var o=lib["babel-login"];if(e.currentTarget===window&&o){var n=o.isLogged(),i=function(){for(var e=document.cookie.split(";"),o=0;o<e.length;o++){for(var n=e[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf("CAUBR01="))return n.substring("CAUBR01=".length,n.length)}return"eos"}();(!n&&"eos"!=i||n&&"eos"==i)&&t.call(o)}};var p=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;"xs"==lib.breakpoints.breakpoint.name&&p&&document.addEventListener("widgetNotifyModalLogin",function(e){var o=e.detail;"modal-open"===o.action?$(".header").addClass("modal-login-ios"):"modal-close"===o.action&&$(".header").removeClass("modal-login-ios")},!0),jQuery.ajaxFrame=function(e){var o,n,t;e=jQuery.extend({data:{},dataType:"post",callback:jQuery.noop},e);var i="ajax-frame-"+(new Date).getTime(),s=jQuery('<iframe scrolling="no" frameborder="0" name="'+i+'"></iframe>');for(t in o='<form action="'+e.url+'" method="'+e.dataType+'" target="'+i+'">',e.data)e.data.hasOwnProperty(t)&&(o+='<input type="hidden" name="'+t+'" value="'+e.data[t]+'"/>');o+="</form>",n=jQuery(o),s.hide().appendTo("body"),n.appendTo("body").hide(),window.setTimeout(function(){s.load(function(){window.setTimeout(function(){s.remove()},500),n.remove(),e.callback.apply(this,arguments)}),n.submit()},500)}}); });    def('babel-service', function(){ def("babel-service",["/exposejs/jsonp-promise"],function(){"use strict";var e="https://n.comentarios.uol.com.br/",o={url:{auth:"https://acesso.uol.com.br/login.html?skin=comentarios&dest=REDIR|"+location.protocol+"//www3.uol.com.br/interacao/comentarios/blank.htm"},messages:{subject:"v1/messages/subject/{id}",editor:"v1/messages/editor-recommended/{id}",likesBySubject:"v1/users/likes-by-subject/{id}",parent:"parent/{id}"},subject:{retrieve:"ws/v1/subject/retrieve/{id}",simpleRetrieve:"ws/v1/subject/simple-retrieve/"},user:{login:"ws/v2/user/login",logout:"ws/v1/user/logout",create:"ws/v2/user/create",update:"ws/v2/user/update",ping:"ws/v1/user/ping",updateNotification:"ws/v1/user/update/reply-notification",updateNotificationType:"ws/v1/user/update/reply-notification-type",socialStart:"ws/v1/user/social/start-session",socialSimpleWhereAmI:"ws/v1/user/social/simple-where-am-i",socialWhereAmI:"ws/v1/user/social/where-am-i"},message:{create:"ws/v2/message/create",preview:"ws/v1/message/preview",del:"ws/v1/message/delete/{id}",edit:"ws/v2/message/edit/{id}",createSubject:"ws/v2/message/create/subject",pin:"ws/v1/message/pin/{id}/{id}",unpin:"ws/v1/messager/unpin/{id}",like:"ws/v1/message/like/{id}",dislike:"ws/v1/message/dislike/{id}"}};expose.get=function(s){var a;if(a={user:e,message:e,messages:"https://view.comentarios.uol.com.br/",subject:"https://view.comentarios.uol.com.br/"}[s.type]+function(e){return o[e.type][e.service].replace(/{id}/,e.id)}(s),s.params){var i;for(i in s.params)s.params.hasOwnProperty(i)&&"sort"!==i&&(s.params[i]=encodeURIComponent(s.params[i]));a+="?"+$.param(s.params)}return lib["jsonp-promise"]&&lib["jsonp-promise"].jsonp(a,s.service).error(function(e){var o="Ocorreu uma falha na requisição de dados.",a=s.root&&s.root.dom||!1;a?events.emit("babel.service.feedback",a,o):events.emit("babel.service.feedback",null,o)})},expose.routes=o,expose.messageHandler=function(e){if(!e)return console.log("Sem param"),!1;var o={api:{423:"Assunto inativo",425:"Usuário não encontrado",426:"Assunto não encontrado",427:"Mensagem não encontrada",428:"Você já avaliou esta mensagem",431:"Token de autenticação inválido",432:"Proteção antiflood",433:"Json inválido",434:"Critério de avaliação inválido",435:"Critério de avaliação não encontrado",436:"Usuário não tem permissão",440:"Falha na autenticação",444:"Tema não encontrado",446:"Falha na autorização",451:"Turing inválido",458:"Avaliação e comentários obrigatórios",500:"Operação não realizada, verifique os dados*"},friendlyMessage:{200:{message:{create:"Seu comentário foi enviado com sucesso.",del:"Seu comentário foi removido com sucesso.",preview:"",edit:"",createSubject:"",pin:"",unpin:"",like:"",dislike:""}},423:"Esta discussão foi encerrada",425:"Usuário não encontrado",426:"Assunto não encontrado",427:"Mensagem não encontrada",428:"Você já avaliou esta mensagem",431:"Token de autenticação inválido",432:"Ops!\n Aguarde alguns instantes antes de publicar seu novo comentário",433:"Json inválido",434:"Critério de avaliação inválido",435:"Critério de avaliação não encontrado",436:"Usuário não tem permissão",440:"Tempo para responder foi excedido.\n Por favor, faça novamente o login.",444:"Tema não encontrado",446:"Falha na autorização",451:"Turing inválido",458:"Avaliação e comentários obrigatórios",500:"Operação não realizada, verifique os dados*"},events:{200:"babel:success",400:"babel:invalid-parameter",422:"babel:subject:invalid-size",431:"babel:user:nickname",423:"babel:subject:close",432:"babel:user:anti-flood",436:"babel:user:not-allowed",440:"babel:session-expired"}},s={},a="Seu comentário foi enviado com sucesso.",i=+e.data.code,r=e.data.callback||jQuery.noop;if(!i)throw"Erro na API";200===i?(s=e.data.result,o.friendlyMessage[i][e.type]&&(a=o.friendlyMessage[i][e.type][e.service]),+s.pending_messages&&+s.user_pending_messages&&(a={badword_disapproved:"Seu comentário contém URL ou palavras de abuso. \nEscreva novamente seu comentário em <var>15</var> segundos",pending:"Seu comentário foi enviado com sucesso para moderação. \nHá "+s.pending_messages+" "+(1==s.pending_messages?"comentário":"comentários")+" na fila de moderação. "+s.user_pending_messages+" "+(1==s.user_pending_messages?"foi enviado":"foram enviados")+" por você."}[s.moderation_status.toLowerCase()],"badword_disapproved"==s.moderation_status.toLowerCase()&&(i=432))):a=o.friendlyMessage[i][e.type]?o.friendlyMessage[i][e.type][e.service]:o.friendlyMessage[i];var n={msg:a,code:i,callback:r};return e.root.dom?(n.button=e.button,events.emit("babel.service.feedback",e.root.dom,n)):events.emit("babel.service.feedback",null,n),a}}); });    def('comments', function(){ def("comments",function(){"use strict";include("angular","babel","teaser","modal","/exposejs/jsonp-promise");var e=e||{};$("body").on("click",".open-comments",function(){var e=$(this);if("string"==typeof(t=e.data("config")||!1))var t=JSON.parse(t.replace(/\'/g,'"'));if(!t||!t.id)return console.log("Não há dados de configuração setados neste botão"),!1;e.removeAttr("data-config");var n={type:"comments",args:$.extend({},t)};n.args.hasOwnProperty("modalOpen")&&(n.args.modalOpen=":"+n.args.modalOpen);var i=lib.modal.open(n,n.type+(n.args.modalOpen||""));i.onshow=function(){$(".babel-login",this.closure).data("modalOpen",t.modalOpen)},i.onbeforeshow=function(){var e=$(".comments:first",this.closure),n=e.data("config"),o=$.extend(!0,{},n,t);e.data("config",o),i.addButtonClose("login-comments"),render.call(this)},i.onclose=function(){}}),expose.init=function(){var t=angular.module("comentario",[]).filter("html",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),n=this;this.$dom=$(this.dom),window.socialSimpleWhereAmI=window.socialSimpleWhereAmI||"";n.$dom.hasClass("display-inline");var i,o=this.$dom.data("initial-size");this.babel=lib.babel,this.babelLogin=lib["babel-login"],this.babelService=lib["babel-service"],t.constant("config",(i=n.$dom.data("config")||{},n.$dom.removeAttr("data-config"),i)),t.value("docs",[]),t.value("tabFilter",{type:"all",size:o||5,sort:"created:desc"}),t.run(function(){events.push("babel.service.feedback",n.$dom,function(e){var t=e.split?e:e.msg,i=e.code||0,o=e.callback||null,r=(t=t.split("\n")).length,s=t[0],a="";if(r>1){for(var c=1;c<r;c++)a+=(1==c?"<p>":"<br/>")+t[c];a+="</p>"}var l,u='<div class="row alert alert-'+(200===i?"success":"danger")+'"><h3>'+s+"</h3>"+a+'<a class="alert-close"><i class="icon-close-2"></i></a></div>',d=e.button==undefined?n.$dom.find(".feedback-service").first():n.$dom.find(e.button).parents(".comment-reply").find(".feedback-service"),m=d.offset().top,f=d.parent();function g(e){d.css("height",0).parent().css("height","auto"),window.setTimeout(function(){d.removeClass("show").html("")},300),e&&e.call&&e.call(this),closingAlert&&window.clearTimeout(closingAlert)}f.css("height",f.outerHeight()),window.scrollY>m&&window.scrollTo(0,d.offset().top),d.html(u).addClass("show"),l=d.find(".alert").outerHeight(),d.add(f).css("height",l).find(".alert").addClass("show"),d.find(".alert-close").bind("click",function(){g(o)}),window.closingAlert=window.setTimeout(function(){d.find(".alert").length&&g(o)},3e4)}),$(".feedback-service").ajaxError(function(e,t,i){events.emit("babel.service.feedback",n.$dom,"Error requesting page "+i.url)})}),t.filter("brDate",[function(){return function(e){return e.trim().replace(/^(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})$/,"$3/$2/$1 $4:$5:$6")}}]),t.filter("prettyDate",[function(){return function(e){var t=new Date((e||"").replace(/-/g,"/").replace(/[TZ]/g," ")),n=((new Date).getTime()-($(window).data("server-date-diff")||0)-t.getTime())/1e3,i=Math.floor(n/86400);if(!(isNaN(i)||i<0)){var o=Math.ceil(i/7);return 0===i&&((n<60?"agora":n<120&&"1 minuto")||n<3600&&Math.floor(n/60)+" minutos atrás"||n<7200&&"1 hora atrás"||n<86400&&Math.floor(n/3600)+" horas atrás")||1==i&&"ontem"||i<7&&i+" dias atrás"||7==i&&"1 semana atrás"||o<=5&&Math.ceil(i/7)+" semanas atrás"||o>5&&e.replace(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}).*/g,"$3/$2/$1 $4h$5")}}}]),t.filter("formatDate",[function(){return function(e){return e.trim().replace(/^(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})$/,"$1-$2-$3T$4:$5:$6Z")}}]),t.filter("inversedDate",[function(){return function(e){if(!(e instanceof Date))return!1;function t(e){return(e<10?"0":"")+e}return e.getFullYear()+t(e.getMonth())+t(e.getDate())+t(e.getHours())+t(e.getMinutes())+t(e.getSeconds())}}]),t.filter("htmlentities",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),t.directive("ngImgonerror",function(){return{restrict:"A",link:function(e,t,n){t.bind("error",function(){$(this).attr("src","https://imguol.com/c/_layout/v2/components/comments/avatar.png").attr("title","O avatar não foi encontrado!").parent().addClass("img-error")})}}}),t.directive("ngHasTeaser",function(){return{restrict:"A",link:function(e,t,i){var o=t.find("textarea"),r=t.find(".teaser"),s=i.ngHasTeaser||960;n.teaser.create({dom:t,input:o,output:r,invert:!0,limit:s})}}}),t.directive("ngHasFocus",function(){return{restrict:"A",link:function(e,t,n){$(t).closest("label")["focusin"==event.type||"focus"==event.type?"addClass":"removeClass"]("focus")}}}),t.directive("ngAutoHeight",function(){return{restrict:"A",link:function(e,t,n){t.on("keyup",function(){var e=$(this),t=e.val(),n=e.css("max-height"),i=n.replace(/(\d+).*/,"$1");e.next().is(".resize")||e.after('<div class="resize"/>');var o=e.next(".resize");t=t.replace(/\n/g,"<br/>"),o.html(t+'<br class="lbr" />'),n.length&&e.css("overflow",o.height()>=i?"auto":"hidden"),e.css("height",o.height())}).on("keydown",function(){if($(this).hasClass("babel-login"))return!1}).on("focus",function(e){$(this).hasClass("babel-login")&&(e.preventDefault(),$(this).blur())}).on("focus",function(e){$("head meta[name=viewport]").remove(),$("head").prepend('<meta name="viewport" content="initial-scale=1.0, width=device-width, maximum-scale=1.0, user-scalable=no" />')}).focusout(function(){$("head meta[name=viewport]").remove(),$("head").prepend('<meta name="viewport" content="initial-scale=1.0, width=device-width, maximum-scale=10.0, user-scalable=yes" />')})}}}),t.service("Rating",function(){this.get=function(e){var t=e?$(e).first():n.$dom.find(".comment-post").first(),i=t.find(".rating").find(".rating-star").length,o=t.find(".rating").attr("data-rating");return!(!i||!o)&&o/i*100},this.reset=function(e){var t=e?$(e).first():n.$dom.find(".comment-post").first();t.find(".rating").find(".rating-star").removeClass("on"),t.find(".rating").attr("data-rating","0")},this.set=function(e){for(var t=[],n=1;n<=5;n++)t.push(parseInt(+e/20)>=n);return t}}),t.factory("User",[function(){var e,t={},i="https://imguol.com/c/_layout/v2/components/comments/avatar.png",o="Usuário não logado";return{get:function(e){return e?e in t&&t[e]:t},set:function(r,s,a){e=n.babelLogin.session,r&&r in e&&(e[r]=s),t.isLogged=e.user&&!0,t.uniqueId=e.user&&e.user.uniqueId,t.loggedWithFacebook=e.user&&"facebook"===e.user.socialNetwork.toLowerCase(),t.loggedWithTwitter=e.user&&"twitter"===e.user.socialNetwork.toLowerCase(),t.loggedWithUol=e.user&&"uol"===e.user.socialNetwork.toLowerCase(),"facebook"===window.socialSimpleWhereAmI?(t.loggedWithTwitter=!1,t.loggedWithFacebook=!0):"twitter"===window.socialSimpleWhereAmI&&(t.loggedWithTwitter=!0,t.loggedWithFacebook=!1),t.avatarUrl=(e.user&&e.user.avatarUrl||i).replace("http:","https:"),t.alternativeText=e.user&&e.user.username||o},getSession:function(){return e},setSession:function(){return n.babelLogin.setSession()}}}]),t.factory("Likes",["$filter","User","config",function(e,t,i){var o={};return{getFromUser:function(e){var r=$.Deferred(),s=t.get("isLogged",Object.keys(o));return!s||Object.keys(o).length?(s||(o={}),r.resolve(!0)):(n.babelService.get({type:"messages",root:{dom:n.$dom},service:"likesBySubject",id:i.id}).then(function(e){return o=e.docs||{},r.resolve(!0)}),r.promise())},apply:function(e){return e in o},it:function r(i,s,a,c){function l(){c||(i.like++,i.likedByMe=!0,o[i.id]=e("inversedDate")(new Date))}t.get("isLogged")?(n.babel[s](i.id),l()):(l(),window.setTimeout(function(){t.set(),r(i,s,a,!0)},1e3))}}}]),t.service("Action",["Subject","User","Likes","Rating","config",function(e,t,i,o,r){var s=[];this.create=function(){var e,i=this,a=t.getSession(),c=(i.newText||"").trim(),l=o.get();if(hitAudience.countClick({component:"comments",reference:"enviar-comentario"}),!l&&!c.length)return events.emit("babel.service.feedback",n.$dom,"Avaliação ou comentário obrigatórios."),!1;(e=$.Deferred(),s.length?e.resolve(s):n.babelLogin.whereAmI().then(function(t){if(200==+t.code)for(var n in t.result){var i=t.result[n];s.push(i.snname)}e.resolve(s)}),e.promise()).then(function(e){var t={type:"message",root:{dom:n.$dom},service:"create",params:{subject:r.id,token:a.token,product:"noticias",source:"UOL"}};""!==c&&(t.params.message=c),l&&(t.params.rating='{"344": "'+l+'"}'),n.babelService.get(t).then(function(e){if(t.data=e,n.babelService.messageHandler(t),200==+e.code){o.reset(),i.newText="",i.refresh();hitAudience.countEvent({reference:"escrever-comentario",action:"logged-user-success",component:"login-comments"})}})})},this.del=function(e,i){var o=this,r=i||e,s=t.getSession(),a={type:"message",root:{dom:n.$dom},service:"del",id:r.id,params:{token:s.token}};n.babelService.get(a).then(function(t){if(a.data=t,n.babelService.messageHandler(a),200==+t.code){if(r.del=!0,i)e.reply_count>0&&e.reply_count--;o.refresh()}})},this.reply=function(e,i){var o=this,s=i.currentTarget,a=t.getSession(),c=e.replyText[e.id],l={type:"message",service:"create",button:s,root:{dom:n.$dom},params:{subject:r.id,parent:e.id,message:c,token:a.token}};hitAudience.countClick({component:"comments",reference:"enviar-resposta"}),n.babelService.get(l).then(function(t){l.data=t,n.babelService.messageHandler(l),200==+t.code&&(e.replyText[e.id]="",e.replyit=!0,setTimeout(function(){e.replyit=!1,o.refresh()},5e3))})},this.like=function(e,t){return i.it(e,"like",t)},this.logout=function(){$(".comment-fadOut").fadeOut(function(){n.babelLogin.logout()}),hitAudience.countClick({component:"comments",reference:"deslogar"})}}]),t.factory("Subject",["config","tabFilter",function(e,t){if(e.id){var i={comments:{},subject:{}},o=function(t){return n.babelService.get({type:"messages",root:{dom:n.$dom},service:t.service,id:e.id,params:t.params})};return{get:function(e){return i.subject[e]||i.subject},load:function(r){var s=$.Deferred();function a(){o(r).then(function(e){return i.comments="docs"in e?e:undefined,s.resolve({data:i})})}return(r=angular.extend({params:{}},r)).service="subject",r.next&&(r.params.next=r.next),r.prev&&(r.params.prev=r.prev),r.params.size=t.size,r.size&&(r.params.size=r.size),Object.keys(i.subject).length?a():function(t){return n.babelService.get({type:"subject",service:"retrieve",root:{dom:n.$dom},id:e.id,params:t.params})}(r).then(function(e){if(200!=+e.code)return s.resolve({hasError:!0,result:e});i.subject=e,a()}),s.promise()}}}}]),t.controller("CommentsController",["$scope","Subject","User","Action","Rating","Likes","config","docs","tabFilter",function(t,i,o,r,s,a,c,l,u){var d=this;o.setSession(),t.btnSizeReplies=function(){return"xs"==lib.breakpoints.breakpoint.name?"btn-small":"btn-medium"},d.report=function(e,t){"comment"==e?hitAudience.countClick({component:"comments",reference:"denunciar-comentario"},t):"reply"==e&&hitAudience.countClick({component:"comments",reference:"denunciar-resposta"},t)},d.replyit=function(){hitAudience.countClick({component:"comments",reference:"responder-comentario"})},d.textArea=function(e){o.get("isLogged")&&("escrever"==e?hitAudience.countClick({component:"comments",reference:"escrever-comentario"}):"responder"==e&&hitAudience.countClick({component:"comments",reference:"escrever-resposta"}))},d.getMore=function(e){hitAudience.countClick({component:"comments",reference:"ver-mais-comentarios"});var i=n.$dom.find(".comment").last();if(c["display-inline"])i.offset().top,i.outerHeight();else i.position().top,i.outerHeight();n.$dom.children().first().append('<div class="overlay" />'),d.load({type:"all",id:c.subjectId,size:t.nextsize,next:d.next}),setTimeout(function(){n.$dom.find(".overlay").remove()},100),d.refresh()},d.filter=function(){var e=o.get("isLogged"),t=o.get("uniqueId");function n(n){return n.hasReplies=+n.reply_count,n.commentedWithFB="facebook"===n.social_network.toLowerCase(),n.commentedWithTT="twitter"===n.social_network.toLowerCase(),n.has_rating&&(n.rating=s.set(n.rating_average)),e&&(n.isMyMessage=n.unique_user_id===t),n.likedByMe=a.apply(n.id),n}return l.filter(function(e){n(e),e.replies.filter(function(e){n(e)})}),l},d.firstComment=function(){null==o.get("isLogged")&&!c["display-inline"]&&c["first-comment"]&&window.setTimeout(function(){$(".modal .comments .babel-login:visible").trigger("click")},300)},d.openReplies=function(e){if(hitAudience.countClick({component:"comments",reference:"ver-respostas"}),e.hasReplies&&!e.replies){var t=o.getSession(),r=i.get("result"),s={type:"messages",service:"parent",root:{dom:n.$dom},id:e.id,params:{size:20,repository:r.repository,token:t.token}};n.babelService.get(s).then(function(e){angular.forEach(d.docs,function(t,n){if(t.id==coment.id)return t.replies.push(e.docs),!1}),d.docs=d.filter()})}e.repliesOpened=!e.repliesOpened},d.getReplies=function(e){if(e.hasReplies>3){if(e.replies.length>3)var r=t.nextsizereplies;else r=t.nextsizereplies+3;e.nextReplies||(e.nextReplies="");var s=o.getSession(),a=i.get("result"),c={type:"messages",service:"parent",root:{dom:n.$dom},id:e.id,params:{size:r,repository:a.repository,next:e.nextReplies,token:s.token}};n.babelService.get(c).then(function(t){angular.forEach(d.docs,function(n,i){if(n.id==e.id)return e.nextReplies||t.docs.splice(0,3),e.nextReplies=t.next,angular.forEach(t.docs,function(e,t){n.replies.push(e)}),!1}),d.refresh()}),hitAudience.countClick({component:"comments",reference:"ver-mais-respostas"})}},d.del=r.del,d.reply=r.reply,d.logout=r.logout,d.create=r.create,d.like=function(e,t,n){return"comment"==n?hitAudience.countClick({component:"comments",reference:"curtir-comentario"}):"reply"==n&&hitAudience.countClick({component:"comments",reference:"curtir-resposta"}),d.refresh(),a.it(e,"like",t)},d.load=function(e){n.$dom.attr("data-loaded","true"),i.load(e).then(function(e){var n=e.data;if(e.hasError)d.hasError=!0;else{if(n.subject&&n.subject.result){d.subject=n.subject;var i=d.subject.result,o=+i.total;i.hasRating&&(o+=+i.totalRatings+ +i.totalCommentsWithRatings),i.replies&&(o+=+i.replies),d.isClosed=i.isClosed,d.info=i,d.total=o,d.title=d.title||d.info.description}if(n.comments){for(var r=n.comments.docs.length,s=0;s<r;s++)n.comments.docs[s].avatar=n.comments.docs[s].avatar.replace("http://","//");l=l.concat(n.comments.docs),d.docs=d.filter(),d.next=n.comments.next,d.prev=n.comments.prev}}d.isVisible=!0,t.$apply(),render()})},d.whereAmI=function(){n.babelLogin.whereAmI().then(function(e){if(200==+e.code){for(var t in e.result){var n=e.result[t];window.socialSimpleWhereAmI=n.snname}d.refresh()}})},d.refresh=function(){o.set(),t.user=o.get(),t.user.isLogged||(d.newText=""),d.docs=d.filter(),t.$$phase||t.$apply()},d.isDebug=c.debug||!1,d.title=c.title||e.mediaTitle||"",d.subtitle=c.subtitle||"",events.push("babel.user.logged",null,function(e,t){d.refresh(),console.log("logged",e,t)}),events.push("babel.user.login.checked",null,function(e,t){""===window.socialSimpleWhereAmI&&(window.socialSimpleWhereAmI="Request Realizado!",d.whereAmI()),d.refresh(),console.log("login.checked",e)}),events.push("babel.user.login.success",null,function(e,t){c["display-inline"];d.refresh(),t.def&&t.def(),console.log("login.success",e)}),events.push("babel.user.login.fail",null,function(e){d.refresh(),console.log("login.fail",e)}),events.push("babel.user.needNickname",null,function(e){d.refresh(),console.log("needNickname",e)}),events.push("babel.user.logout.success",null,function(e){d.refresh(),console.log("logout.success",e)}),d.load()}]),angular.bootstrap(this.dom,["comentario"])}}); });    def('ads', function(){ !function(){"use strict";include("breakpoints"),expose.update=function(){var e=this.parse(this.dom.getAttribute("data-ads"),{}),i=this.parse(this.dom.getAttribute("data-position")),t=this.dom.getAttribute("data-tag"),a=!0;if(e.push!==undefined){a=e.push;delete e.push}var n=[],s=Object.keys(e);for(var d in s)if(s.hasOwnProperty(d)){var r=s[d];r&&r.match(/(xs|sm|md|lg)/)&&n.push(r)}for(var o=this.breakpoints.sortOptions(n),h=0;h<o.length;h++)if(this.breakpoints.checkin(o[h],!!e[o[h]])){if(e[o[h]])var l=o[h];break}if($(this.dom).children().hide().removeClass("visible"),l){if($(this.dom).show().children().each(function(){this.id.match(e[l])&&$(this).show().addClass("visible")}),!$(this.dom).children(".visible").length){var p=document.createElement("div"),u=document.querySelectorAll("[id*=banner-"+e[l]+"]").length+1;if("120x35-area"!=e[l]&&"120x35-area-2"!=e[l]&&"120x35-2-area"!=e[l]?p.id="banner-"+e[l]+"-"+u:p.id="banner-"+e[l],"banner-responsive-vertical-1"==p.id&&0==document.querySelectorAll("[id*=banner-responsive-top-vertical-1]").length&&(p.id="banner-responsive-top-vertical-1"),""!=i&&-1!=p.id.indexOf("banner-300x250-area-")&&(p.id="banner-300x250-area-"+i),this.dom.appendChild(p),-1!=p.id.indexOf("banner-responsive-middle-2-horizontal-area-")&&-1!=p.id.indexOf("banner-responsive-middle-2-horizontal-area-2"))a=!1;a&&!$("body").hasClass("modal-open")&&(t?window.uolads.push({id:p.id,customTargetings:{tag:t}}):window.uolads&&window.uolads.push({id:p.id}))}}else this.dom.style.display="none"},expose.init=function(){this.update(),this.breakpoints.change(this,function(){this.update()})}}(); });    def('section-title', function(){ expose.init=function(){var t=this.dom.getAttribute("data-svg");t&&loadSvg("uol-svg-"+t,{icon:t.replace("-","/")})}; });    def('widget-profile', function(){ !function(e,t,n){expose.init=function(){var o,r,i=this.dom,a=JSON.parse(i.getAttribute("data-config")),l=e.getElementsByTagName(t)[0];if(!e.getElementById(n)){(r=e.createElement(t)).id=n,r.crossOrigin="anonymous",r.src=a.sourceJs;var s=function(e){try{instances.header[0].showItens(e)}catch(t){console.error("[widget-profile] A função instances.header[0].showItens() não existe!")}};r.onload=r.onreadystatechange=function(){r.onload=null,r.onreadystatechange=null,o=setInterval(function(){if("undefined"==typeof UOL)return!1;if(clearInterval(o),UOL.hasOwnProperty("perfil")&&UOL.perfil.hasOwnProperty("widgets")&&UOL.perfil.widgets.hasOwnProperty("Notify")&&"function"==typeof UOL.perfil.widgets.Notify){var e=lib["babel-login"],t=document.querySelector(".news-notice .girouol #subscriber-cmp1"),n=!1;typeof t!==undefined&&null!==t&&(n=!0),window.widgetProfile=UOL.perfil.widgets.Notify({avatarSize:a.avatarSize,avatarIconColor:a.avatarIconColor,widgetStyle:{username:a.widgetStyle.username,counter:a.widgetStyle.counter,zIndex:a.widgetStyle.zIndex},responsive:!0,linkCheckout:{sg:"2668383698",sa:a["ga-id"]},target:"profile-avatar",portal:Config.portal.slug,callbacks:{onInit:function(e){var t=e.auth.isLogged?1:0;s(t),u(e)},onLogin:function(o){s(1),u(o),e&&e.setSession(o),n&&(t.value=o.auth.email.toLowerCase())},onLogout:function(o){s(0),u(o),e&&e.logout(o),n&&(t.value="")}}})}else s(2)},200)};var u=function(e){var t=document.querySelector(".header, .bbolp-2014").querySelector("#uol-mail-link"),n=t.querySelector(".mail-notification");e.auth.isLogged?NotificacaoUOL.init(function(e){e.url&&""!=e.url&&typeof e.href!=undefined&&(t.href=e.url),e.count>=1&&(n.innerHTML='<em class="'+e.moreThan+'">'+e.countStr+"</em>")}):n.innerHTML=""};r.onerror=function(){s(3)},l.parentNode.insertBefore(r,l)}}}(document,"script","widget-profile-jssdk"); });    def('header', function(){ include("breakpoints");var header,headerHeight,hammer,win=$(window),showMenu=!1,fixed=!1;expose.markTouchMenu=function(){this.isTouchDevice()&&$(".header").addClass("touchDevice")},expose.isTouchDevice=function(){return"ontouchstart"in window},expose.openSubmenu=function(e){var s=".choosen-item.arrow",i=s.replace(/\./g," "),t=$(s),o=$(e);t.removeClass(i).siblings(".nav-stations-submenu").hide(),t[0]!=o[0]&&o.addClass(i).siblings(".nav-stations-submenu").show()},expose.userInterface=function(){var e=$(this.dom),s=this,i=!1,t=!1,o="",n=".menu-wrapper-mobile",a=".menu-click",c=".nav-menus",d=".close-mask",r=[".stations-list",".channels-list",n,d],l=function(){$(c).find(".stations-list, #"+o).toggleClass("hide-list")},h=function(){$(n,e).toggleClass("show-submenu"),$(a,e).toggleClass("hidden"),showMenu=!showMenu,r.forEach(function(e,s){f(r[s])}),m()},f=function(e){var s;s=fixed?window.innerHeight-50:!fixed&&window.innerHeight>500||!fixed&&$(window).width()<815?400:window.innerHeight-(headerHeight-win.scrollTop()),$(e).css("height",s)};e.find(d).css("width",$(window).width()-260);var u=0,m=function(){if(fixed){var t=document.documentElement.scrollTop||document.body.scrollTop;i&&-1*$("body").offset().top<=u?u=t:!i&&-1*$("body").offset().top<=u&&(u=-1*$("body").offset().top);var o=-Math.abs(t),n=-o;if(i){if(0==t&&0==$("body").offset().top&&0==u){var a=0;$(".bannersticky-top-container").length>0&&(a=$(".bannersticky-top-container").height()+$(".bannersticky-top-container").offset().top),$(".bannersmart").attr("style")||(a+=$(".bannersmart").height()),e.css("top",a),header.hasClass("header-verticais")||$("body").css("padding-top",50)}else header.hasClass("header-verticais")&&!header.hasClass("is-fixed")?e.css("top",s.breakpoints.checkin("xs")?75:112):e.css("top",n);var c=document.body;divMask=document.createElement("div"),divMask.classList.add("mobile-mask"),c.insertBefore(divMask,c.firstChild),$("body").css("top",o)}else $("body").css("padding-top",0),$("div.mobile-mask").remove(),e.css("top",0),$(".widgetNotify").css("padding-top","auto");$("body").toggleClass("lock-screen"),e.toggleClass("opened-header"),window.scrollTo(0,u),r.forEach(function(s,i){f(r[i]),e.find(d).css("width",$(window).width()-260)})}else $(".header .menu-wrapper-mobile").css("position","relative")};window.onresize=function(){r.forEach(function(s,i){f(r[i]),e.find(d).css("width",$(window).width()-260)})};var p=function(e){var s={container:e.closest(".container"),submenuBox:e.find(".nav-stations-submenu"),submenuSize:e.offset().left+e.width()};if(s.submenuBoxSize=e.offset().left+s.submenuBox.width(),s.containerSize=s.container.offset().left+s.container.width(),s.submenuBoxSize>s.containerSize){var i=s.submenuSize-s.containerSize-10;s.submenuBox.css("right",i)}};s.isTouchDevice()||$(".nav-stations-item").hover(function(e){!function(e){e.offset().left,e.width();var s=e.find(".nav-stations-submenu"),i=(e.offset().left,s.width(),e.closest(".container")),t=(i.offset().left,i.offset().left,i.width(),e.find(".menu-station")),o="choosen-item";s.length>0&&(o="choosen-item arrow"),t.toggleClass(o)}($(this)),p($(this))}),hammer.on("tap",function(e){var i=$(e.target);i.siblings(".nav-stations-submenu").length&&(e.preventDefault(),s.openSubmenu(i),p($(e.target).parent()))}),$(this.dom).on("click keyup",function(n){var a=$(n.target);if(s.isTouchDevice()&&a.siblings(".nav-stations-submenu").length&&n.preventDefault(),a.hasClass("menu-click"))i=!i,h(),t&&(l(),t=!1);else if(a.hasClass("back-to-stations")||a.closest(".back-to-stations").length>0)o=a.closest(".channels-list").attr("id"),a.closest(c).find(".stations-list, #"+o).toggleClass("hide-list"),t=!0;else if(a.attr("data-id"))o=a.attr("data-id"),a.closest(c).find(".stations-list, #"+o).toggleClass("hide-list");else if(i&&(a.hasClass("close-mask")||a.hasClass("close-button")||1===a.closest(".close-button").length))i=!1,h(),t&&(l(),t=!1);else if(1==a.closest(".search-anchor").length){n.preventDefault(),a.closest(".search-anchor").siblings(".search-box").addClass("show-search-box").find(".search-query").focus().val(""),$("#widgetNotify").addClass("is-active-search")}e.find(".uol-account").on("click",function(){i&&!fixed&&(i=!1,h())})}),$(".search-query",this.dom).on("focusout",function(){var e=this;setTimeout(function(){$(e).parents(".search-box").removeClass("show-search-box"),$("#widgetNotify").removeClass("is-active-search")},100)}),"black"===e.attr("data-widget")&&setTimeout(function(){$("#widgetNotify").addClass("black")},1e3)},expose.checkScroll=function(){$(document).scroll(function(){$(document).scrollTop()<145?($(".bannersticky-top").addClass("ads-fixed"),$(".bannersticky-top").removeClass("ads-stick")):$(document).scrollTop()>399?$(".bannersticky-top").hide():$(".bannersticky-top").addClass("ads-stick").removeClass("ads-fixed").show()})},expose.showItens=function(e){var s=this.dom.querySelector(".uol-sac"),i=$(this.dom);!s||0!==e&&3!==e?-1===s.className.indexOf("hidden")&&(s.className+=" hidden",i.find(".wrapper-header").removeClass("positioning")):(s.className=s.className.replace(" hidden",""),i.find(".wrapper-header").removeClass("positioning")),i.find(".uol-account").on("click",function(){1!=e&&2!=e&&-1===s.className.indexOf("hidden")&&$(this).closest(".wrapper-header").addClass("positioning")})},expose.scrollBack=function(){var e,s,i,t=0,o=header.css("transition-duration")||"0.2s",n=($(".bannersticky-top "),this);o=o.indexOf("ms")>-1?parseFloat(o):1e3*parseFloat(o),header.height(header.height()).css("overflow","visible"),win.on("scroll",function(a){if(!showMenu){var c=win.scrollTop();s=t>c||t==c&&s,fixed=c>headerHeight,i=i&&i.length?i:$(".widgetNotify"),fixed?(header.addClass("is-fixed"),i.addClass("is-fixed"),$("body").addClass("is-fixed")):(header.removeClass("is-fixed"),i.removeClass("is-fixed"),$("body").removeClass("is-fixed"),headerHeight=header.outerHeight()+(header.offset().top<0?0:header.offset().top));var d=$(n.dom).is(".header-thin")||n.breakpoints.checkin("xs")||n.breakpoints.checkin("sm")?50:100;$("body").css("padding-top",header.hasClass("is-fixed")&&fixed?d:0),fixed&&!s?(header.addClass("is-closed"),i.addClass("is-closed"),clearTimeout(e),header.css("overflow","hidden")):(header.removeClass("is-closed"),i.removeClass("is-closed"),clearTimeout(e),e=setTimeout(function(){header.css("overflow","visible")},o)),t=c}})},expose.selectMenu=function(){var e=$(this.dom);if("undefined"!=typeof Collection){var s=e.find(".principal-item").siblings(".nav-stations-submenu").find(".nav-items:first-child").find("li"),t=e.find(".principal-item").find("li"),o=Collection.title,n=["cinema","musica","urban taste"],a=!1;for(i=0;i<n.length;i++)n[i]===Collection.channel&&(a=!0);/ultimas/.test(Collection.slug)&&!a&&(o="Últimas notícias"),s.each(function(e){0===e?$(this).children().removeClass("choosen"):$(this).children().text()===o&&$(this).children().addClass("choosen")}),t.each(function(e){0===e?$(this).removeClass("choosen"):$(this).text()===o&&$(this).addClass("choosen")})}},expose.clickLogger=function(){for(var e=/chn:\d+;creative:(linkfixo_menu|barrauol)(_mobile)?;/,s="chn:"+$(this.dom).attr("data-chn-id")+";creative:$1$2;",i=this.dom.querySelectorAll("a"),t=i.length;t--;){var o=i[t],n=o.href;!0===e.test(n)&&(o.href=n.replace(e,s))}},expose.init=function(){window.UHeader=window.UHeader||{init:function(){}},hammer=new Hammer(this.dom),header=$(this.dom),headerHeight=header.outerHeight()+header.offset().top,this.checkScroll(),this.userInterface(),this.scrollBack(),this.selectMenu(),this.clickLogger(),this.markTouchMenu()}; });    def('components/areas/estilo/horoscope', function(){ !function(){"use strict";include("cookie"),expose.bind=function(){var i=$(this.dom),s=this,n=s.cookie.get("meuSigno");i.find(".slot-a, time").addClass("hidden"),i.find(".section-title .svg").attr("class","svg hidden"),i.on("click","a.choose-sign",function(i){i.preventDefault(),s.changeSign(this)}),i.on("click",'a[data-action="change"]',function(){i.find(".forecast").addClass("hidden"),i.find(".signs").removeClass("hidden"),s.cookie.unset("meuSigno","/",".uol.com.br")}),i.on("click",".drop-select .select-option",function(){s.sign=$(this).text(),s.changeSign(i.find("a.choose-sign:contains("+s.sign+")"))}),!i.hasClass("horoscope-menu")&&n&&s.changeSign(i.find("a.choose-sign[data-id="+n+"]")),$(this.dom).filter(".horoscope-menu").addClass("on-right").children().on("scroll",function(i){$(this).parent()[0==this.scrollLeft?"removeClass":"addClass"]("on-left")[this.scrollWidth==this.clientWidth+this.scrollLeft?"removeClass":"addClass"]("on-right")})},expose.changeSign=function(i){var s=$(this.dom);s.find(".slot-a, time").removeClass("hidden"),s.find(".section-title .svg").attr("class","svg");var n=JSON.parse($(i).attr("data-sign"));s.find(".section-title").find(".section-info h4 span").text(n.name).end().find(".svg use").attr("xlink:href","#svg-horoscope-"+n.icon).end().find(".section-info time").html(n.date.day+" "+n.date.month).end().find(".slot-a").removeClass("hidden"),s.find(".forecast").removeClass("hidden").find(".resume a").attr("href",n.link).end().find(".resume p").html(n.resume),s.find(".signs").addClass("hidden"),this.cookie.set("meuSigno",n.id,1e3,"/",".uol.com.br")},expose.calculateScroll=function(){var i=$(".container",this.dom),s=i.find(".active"),n=s.position().left+s.width()/2-i.outerWidth()/2;n>s.width()&&i.scrollLeft(n);var e=$(".signs",this.dom),t={container:i.width(),signs:e.width(),scroll:i.scrollLeft()};return t.visible=t.signs-t.container,t},expose.enableScroll=function(){var i=this,s=this.calculateScroll();("ontouchstart"in window||navigator.maxTouchPoints)&&$(this.dom).addClass("touch-enabled"),$(".container",this.dom).on("scroll",function(){s.scroll=$(this).scrollLeft()}),$(window).on("resize",function(){s=i.calculateScroll()}),$(this.dom).on("click",".scroll-left, .scroll-right",function(n){var e=s.signs;/scroll-left/.test(n.currentTarget.className)&&(e*=-1),s.scroll=e<0?s.scroll+e>0?s.scroll+e:0:s.scroll+e<s.visible?s.scroll+e:s.visible,$(".container",i.dom).stop().animate({scrollLeft:s.scroll},300)})},expose.init=function(){this.bind(),/is-scrollable/.test(this.dom.className)&&this.enableScroll()}}(); });    def('blogs-and-columns', function(){ !function(){"use strict";expose.bind=function(){var e=this,i=this.dom,n=$(i),t=$(".view-all",i),a=$(".title-wrapper",i);t.find("ul").scroll(function(){var e=$(this).scrollTop().valueOf();e>=30&&!a.hasClass("bordered")?a.addClass("bordered"):e<30&&a.removeClass("bordered")}),n.on("click",".btn",function(){var i=e.parse(this.getAttribute("data-next"),{}),t=e.parse(this.getAttribute("data-audience-click"),{});t&&(i.audience={click:{mediaName:t.mediaName}});var a=Config.servicename+"?loadComponent=blogs-and-columns&data="+JSON.stringify(i);e.getjson(a,function(e){var i=$(e.body);n.find(".element-divisor").remove();var t=i.find(".blogger"),a=i.find(".element-divisor")||"";n.find("ul.clearfix").append(t),n.find(".container").append(a)})})},expose.init=function(){this.bind()}}(); });    def('bannersticky', function(){ !function(){"use strict";expose.init=function(){var e=this;setTimeout(function(){var i=$(".article.scroll-base .divider.separator"),t=$(".title-content");if(null==t.height())var n=$(".blog-header");else n=t;if(null!=$(".title-kicker").height()&&null==t.height())n=$(".title-kicker");if(null!=$(".title-image").height()&&null==t.height())n=$(".title-image");if("mobile"==Config.platform&&null==t&&null!=$(".h-headline").height())n=$(".h-headline");var o=$(".bannersticky-top-container"),s=$(".bannersticky-top");function l(){-1==window.location.search.substring(1).indexOf("testeTopoFixo")?o.css("min-height",s.css("height")):$("#banner-responsive-top-horizontal-1").find("iframe").css({height:"230px","background-color":"#000",border:"1px solid #000"})}if(l(),s.show(),i.size()>0&&i.offset().top<n.offset().top)var r=i.first();else{if(!(n.size()>0&&n.is(":visible")))return void s.css("position","relative");r=n}$(".bannersticky-top",e.dom).scrollfix({limit:r}),$(window).on("resize",function(){s.css("width",document.querySelector("body").getBoundingClientRect().width+"px"),l()});var c=0,a=setInterval(function(){c++,l(),c>=5&&clearInterval(a)},1e3)},1e3)},expose.selector=".bannersticky-top-container"}(); });    def('video-embed', function(){ include("//player.mais.uol.com.br/js/uolplayer.min","breakpoints"),window.playerEvents={onPlay:function(e){refresh({init:!1}),$(e.mediaPlayer.mediaElement).trigger("onPlay",e)},onPause:function(e){$(e.mediaPlayer.mediaElement).trigger("onPause",e),refresh()},onResume:function(e){refresh({init:!1}),$(e.mediaPlayer.mediaElement).trigger("onResume",e)},onEnd:function(e){e.playlist||!e.detach||e.detach.inView||window.hj&&(console.log("hotjar","trigger","player-destacavel"),hj("trigger","player-destacavel")),$(e.mediaPlayer.mediaElement).trigger("onEnd",e)},onFullscreen:function(e){$(e.mediaPlayer.mediaElement).trigger("onFullscreen",e)},onResize:function(e){$(e.mediaPlayer.mediaElement).trigger("onResize",e)},onInit:function(e){setTimeout(function(){try{var a=e.mediaPlayer.wrapper.dataset;a.hasOwnProperty("metricsPlay")&&(a=JSON.parse(a.metricsPlay)),hitAudience.countClick(a)}catch(n){}},1e3)}},expose.player=null,expose.LoadMais=function(){var e=this;this.interval=setInterval(function(){if(window.UOLPlayer&&(clearInterval(e.interval),$.extend(window.UOLPlayer,playerEvents),!0!==$(e.dom).find(".uolplayer").data("playlist"))){e.player=new window.UOLPlayer(e.dom.querySelector(".uolplayer"));var a=e.player.wrapper.querySelector(".video-element"),n=setInterval(function(){4===a.readyState&&(clearInterval(n),a.addEventListener("play",function(){var n=window._cbv||(window._cbv=[]);e.player.hlsEnabled&&(a.forHLSStrategy=e.player.mediaPlayer.hls,a.mediaId=e.player.mediaId),n.push(a)}))},100)}},500)},expose.loadHotJar=function(){var e,a,n,t;"entretenimento.uol.com.br"==location.host&&(e=window,a=document,e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:665471,hjsv:5},n=a.getElementsByTagName("head")[0],(t=a.createElement("script")).async=1,t.src="//static.hotjar.com/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,n.appendChild(t))},expose.init=function(){this.loadHotJar(),this.LoadMais.call(this)}; });    def('tabs', function(){ !function(s){"use strict";expose.realignSubmenu=function(){$(this.dom).find(".has-submenu").on("mouseover",function(){var s=$(this).closest("span").siblings(".nav-tabs-subitems"),n=$(this).closest("span").siblings(".nav-tabs-subitems").outerWidth(),i=Math.round(n/2);s.css({"margin-right":-i})})},expose.init=function(){this.realignSubmenu()}}(); });    def('results-index', function(){ expose.events=function(){var t=this,e=".btn-search:not(.searching)";$(this.dom).on("click",e,function(e){var i=this,n=JSON.parse(this.getAttribute("data-request")),a=this.getAttribute("data-loadComponent")||"results-index",s=this.getAttribute("data-history"),r=this.getAttribute("data-next"),o=this.getAttribute("data-link"),d=t.parse(this.getAttribute("data-audience-click"),!1);if("true"===s){var c=""==location.search?"?next="+r:-1!=location.search.indexOf("next")?location.href.replace(/(next=)(.*N)/g,"next="+r):location.href+"&next="+r;history.replaceState(null,null,c)}this.className+=" searching",d&&(n.audience={click:{mediaName:d.mediaName}});var l=o||Config.servicename+"?loadComponent="+a+"&data="+JSON.stringify(n);this.innerHTML="Carregando...",t.getjson(l,function(e){var a=$(e.body);$(".results-items",t.dom).append(a.find(".results-items").html()),$(t.dom).find(".element-divisor").remove(),n.hasNext&&(a.find(".element-divisor").insertAfter($(".results-items",t.dom)),i.className=i.className.replace(/\ssearching/,""))})}),this.dom.querySelector(".btn-search")&&this.dom.querySelector(".btn-search").getAttribute("data-scroll-load")&&window.addEventListener("scroll",function(){var i=[-1*document.body.getBoundingClientRect().top+window.innerHeight,$(t.dom).find(".btn-search").offset().top];i[0]>=i[1]&&$(t.dom).find(e)&&$(t.dom).find(e).trigger("click")})},expose.init=function(){this.events.call(this)}; });    def('navigation-search-list', function(){ include("suggest"),expose.libSuggest=function(){var e=lib.suggest.create(this.dom),t=this.dom.querySelector(".suggest-list"),i=this.dom.querySelector(".input-box"),n=function(){i.className=i.className.replace(/ visible/,""),t.innerHTML="",t.removeAttribute("style")};return e.onSuccess=function(e){i.className=i.className+" visible";var n=e||"Nenhum item encontrado.";t.innerHTML=n},e.onCancel=n,e.onEmpty=n,t.innerHTML},expose.changePage=function(e,t){t="click"==e.type&&t?t:this.value;("keyup"==e.type&&13==e.keyCode||"keyup"!=e.type)&&""!=t&&(window.location.href="change"!=e.type?this.getAttribute("data-search")+encodeURIComponent(t):t)},expose.formFilter=function(){$(this).data("formFilter")&&$(this).data("formFilter").config({onSelect:function(e,t,i){i.url&&""!=i.url&&(window.location.href=i.url)}})},expose.init=function(){var e=this;this.dom.querySelector(".suggest")?this.libSuggest.call(this):$(this.dom).on("keyup","#filled-normal",e.changePage),$(this.dom).on("click",".svg-icon-search",function(t){var i=$(e.dom).find(".fildBusca").val(),n=document.querySelector(".suggest-list > li > a");0==$(this).find(".suggest-list").length&&"undefined"!=i&&""!=i&&null!=n&&""!=n&&e.changePage.call(this,t,i)}),$(this.dom).find(".categorias").on("focusin",function(e){var t="focusin"==e.type?"abrir-drop":"fechar-clique-drop";hitAudience.countClick({component:"navigation-drop",reference:t,action:"clique"})}),$(this.dom).on("change",".categorias",e.changePage),$(".form-filter",this.dom).each(e.formFilter)}; });    def('playlist-embed', function(){ !function(){"use strict";include("breakpoints");expose.positions=[],expose.player=null,expose.auto=!1,expose.playlistSelect=function(e,t){t.find(".video-embed .uolplayer").remove().end().find(".video-embed").append('<div class="uolplayer" id="uolplayer_{{mediaId}}" data-mediaid="{{mediaId}}" data-autoplay="true" data-playlist="true"></div>'.replace(/{{mediaId}}/g,e)),this.player=new UOLPlayer(document.querySelector("#uolplayer_"+e))},expose.playerStatus=function(e,t){0==$(this.dom).find(".thumb-link.selected small").length&&$(this.dom).find(".thumb-link.selected .thumb-image").append("<small>Assistido</small>"),$(this.dom).find(".thumb-link.selected").removeClass("selected"),$(this.dom).find(".thumb-link.active").removeClass("active paused"),$(e).addClass("visualized selected").addClass("onEnd"!=t&&"active").addClass("onPause"==t&&"paused"),"onPlay"==t&&this.breakpoints.checkin("md",!0)&&this.playlistPosition(e)},expose.activeScroll=function(e){if("lg"==this.breakpoints.breakpoint.name){var t=$(this.dom).find(".playlist-items"),i=-1*($(this.dom).find(".thumb-link.active").offset().top-t.offset().top),a=$(this.dom).find(".scroll-content");e&&(a[0].style.top=i+"px")}},expose.playlistPosition=function(e){var t=$(this.dom).find(".thumb-link"),i=$(e).parent().prev().index();if(-1!=i)var a=$(e).parent().prev().outerHeight()/2,o=this.positions[i>=0?i:0];t.animate({scrollTop:(o?o+a:0)+"px"})},expose.controlBar=function(e){var t=$(this.dom).find(".cont-control");!t.is(":visible")&&t.slideToggle(this.dinamicBar(!0)),$(this.dom).find(".playlist-current").text(e+1)},expose.getPositions=function(){for(var e=$(this.dom).find(".thumbnail-item"),t=0,i=e.length;t<i;t++)this.positions[t]=$(e[t]).position().top},expose.dinamicBar=function(){if("md"!=this.breakpoints.breakpoint.name&&"lg"!=this.breakpoints.breakpoint.name||!$(this.dom).hasClass("column"))$(this.dom).find(".related-videos").removeAttr("style");else{var e=[$(this.dom).find(".video-embed").height(),$(this.dom).find(".cont-control").height()];$(this.dom).find(".related-videos").css("height",e[0]-e[1]).css("overflow-x","hidden")}},expose.bind=function(){var e=this,t=".thumbnail-standard .thumb-link",i=$(e.dom).find(".player");$(e.dom).find(t).on("click",function(t){if(t.preventDefault(),$(".initial-state").removeClass("initial-state"),!$(this).hasClass("active")){var a=this.dataset.mediaid;a&&(e.player?(e.playerStatus(this,"onPlay"),e.playlistSelect(a,i)):e.player=e.player.changeVideo(a))}(e.breakpoints.checkin("xs")||e.breakpoints.checkin("sm")||!/column/.test(e.dom.className))&&(e.auto||$("html, body").animate({scrollTop:$(e.dom).offset().top-100})),e.auto=!1}).eq(0).parent().addClass("initial-state"),(this.breakpoints.checkin("xs")||this.breakpoints.checkin("sm"))&&$(e.dom).find(".read-more .read-more-btn button.close").on("click",function(){$("html, body").animate({scrollTop:$(e.dom).offset().top-50},600)}),$(i).on("onChangeVideo onChange onChangevideo",".video-element",function(e,t){console.log("changed")}),$(i).on("onPlay onPause onResume onEnd",".video-element",function(i,a){var o=$(e.dom).find(t),n=($(e.dom).find(".uolplayer").attr("data-playlist"),o.filter('[data-mediaid="'+a.mediaId+'"]'));e.controlBar(o.index(n)),o.index(n)&&e.activeScroll(o.index(n)),e.playerStatus(n,i.type),"onEnd"==i.type&&(a.playlist||!a.detach||a.detach.inView||window.hj&&(console.log("hotjar","trigger","player-destacavel"),hj("trigger","player-destacavel")),e.auto=!0,n.parents(".thumbnail-standard")[n.parents(".thumbnail-standard").next().length?"next":"siblings"](":not(:has(.visualized))").find(".thumb-link").trigger("click"));var s=setInterval(function(){try{var e=a.wrapper.querySelector(".video-element");4===e.readyState&&(clearInterval(s),e.addEventListener("play",function(){var t=window._cbv||(window._cbv=[]);a.hlsEnabled&&(e.forHLSStrategy=a.mediaPlayer.hls,e.mediaId=a.mediaId),t.push(e)}))}catch(t){0}},100)}),this.breakpoints.checkin("xs")&&$(e.dom).on("touchstart",".playlist-control",function(e){$(this).toggleClass("active")}),$(".related-videos, .read-more, .playlist-items .row",this.dom).on("scroll",function(t,i){crazyload(),$(e.dom).find(".degrade").stop()[i.scrollY<=i.maxScroll+50?"fadeOut":"fadeIn"]("fast")})},expose.LoadMais=function(){var e=this;this.interval=setInterval(function(){if(window.UOLPlayer&&$(e.dom).find(".video-embed .uolplayer").length>0&&window.playerEvents){clearInterval(e.interval),$.extend(window.UOLPlayer,window.playerEvents);var t=e.dom.querySelector(".uolplayer");"ontouchstart"in window&&t.setAttribute("data-ondemand","true"),e.player=new window.UOLPlayer(t)}},500)},expose.loadHotJar=function(){var e,t,i,a;"entretenimento.uol.com.br"==location.host&&(e=window,t=document,e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:665471,hjsv:5},i=t.getElementsByTagName("head")[0],(a=t.createElement("script")).async=1,a.src="//static.hotjar.com/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,i.appendChild(a))},expose.init=function(){this.loadHotJar(),this.LoadMais(),this.bind(),this.getPositions(),this.dinamicBar()}}(); });  